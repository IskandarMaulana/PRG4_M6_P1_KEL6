@model IEnumerable<Project_Konser_Kel03.Models.Arti>

    @{
    ViewData["Title"] = "Data User";
    int no = 1;
    }
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <!-- SweetAlert -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11.4.0/dist/sweetalert2.min.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.4.0/dist/sweetalert2.all.min.js"></script>

    <div class="container-fluid py-4">
        <div class="row">
            <div class="col-12">
                <div class="card mb-4">
                    <div class="card-header pb-0">
                        <h6>List Actress</h6>
                    </div>
                    <div class="card-body px-0 pt-0 pb-2">
                        <div class="table-responsive p-0">
                            <table class="table align-items-center mb-0">
                                <thead>
                                    <tr>
                                        <th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">Actress Name</th>
                                        <th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2">Genre</th>
                                        <th class="text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">Email</th>
                                        <th class="text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">Telephone</th>
                                        <th class="text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">Action</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @foreach (var arti in Model)
                            {
                                    <tr>
                                        <td>
                                            <div class="d-flex px-2 py-1">
                                                <div>
                                                    <img src="../assets/img/team-2.jpg" class="avatar avatar-sm me-3" alt="user1">
                                                </div>
                                                <div class="d-flex flex-column justify-content-center">
                                                    <p class="text-xs font-weight-bold mb-0">@(User.nama)</p>
                                                </div>
                                            </div>
                                        </td>
                                        <td class="align-middle text-center text-sm">
                                            <p class="text-xs font-weight-bold mb-0">@(User.username)</p>
                                        </td>
                                        <td class="align-middle text-center text-sm">
                                            <p class="text-xs font-weight-bold mb-0">@(User.password)</p>
                                        </td>
                                        <td class="align-middle text-center text-sm">
                                            <p class="text-xs font-weight-bold mb-0">@(User.alamat)</p>
                                        </td>
                                        <td class="align-middle text-center">
                                            <p class="text-xs font-weight-bold mb-0">@(User.NoTelp)</p>
                                        <td class="align-middle">
                                            <!-- Merge all buttons into one column with spacing -->
                                            <div class="d-flex">
                                                <a class="btn btn-sm btn-danger delete-button" asp-action="Delete">
                                                    Delete
                                                    <i class="mdi mdi-border-color"></i>
                                                </a>
                                                <a class="btn btn-sm btn-primary btn-group-vertical mr-2" asp-action="Create">
                                                    Add
                                                    <i class="mdi mdi-border-color"></i>
                                                </a>
                                                <a asp-action="Edit" asp-route-id="@User.Id" class="btn btn-sm btn-primary btn-group-vertical mr-2">
                                                    edit
                                                    <i class="mdi mdi-border-color"></i>
                                                </a>
                                            </div>
                                        </td>
                                    </tr>
                                }
                                </tbody>
                            </table>
                            <script>
                            // Your existing JavaScript code here

                            // Put your SweetAlert code here
                            $(document).ready(function () {
                                $(".delete-button").click(function () {
                                    var ArtisID = $(this).data("id");

                                    swal({
                                        title: "Hapus User?",
                                        text: "Apakah anda ingin menghapus arti ini?",
                                        icon: "warning",
                                        buttons: true,
                                        dangerMode: true,
                                    }).then((willDelete) => {
                                        if (willDelete) {
                                            //mengirimkan permintaan menghapus ke control
                                            $.ajax({
                                                url: "/User/Delete/" + id,
                                                type: "POST",
                                                success: function (data) {
                                                    //Tampilkan pesan sukses jika diperlukan
                                                    if (data.success) {
                                                        swal("Sukses!", data.message, "success");
                                                        //Refresh halaman setelah menghapus
                                                        location.reload();
                                                    } else {
                                                        swal("Gagal!", "Terejadi kesalahan saat menghapus artis.", "error");
                                                    }
                                                },
                                                error: function () {
                                                    swal("Error!", "Terjadi kesalahan saat menghapus artis.", "error");
                                                }
                                            });
                                        }
                                    });
                                });
                            });
                            </script>
                        </div>
                    </div>
                </div>
            </div>
        </div>
